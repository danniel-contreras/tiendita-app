"use strict";(self["webpackChunktiendita_app"]=self["webpackChunktiendita_app"]||[]).push([[279],{5279:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var n=a(9306),o=a(9242);const s=(0,n._)("p",{class:"text-red-600 text-2xl mb-6"},"FINANZAS DEL SISTEMA",-1),l={class:"flex my-6"},r=(0,n._)("label",{class:"pr-4 text-gradient mt-1 text-sm font-semibold whitespace-nowrap"},"Buscar por fecha",-1),i={class:"text-gray-600 font-semibold"};function u(e,t,a,u,d,m){const c=(0,n.up)("finances-table"),p=(0,n.up)("pagination-component"),g=(0,n.up)("layout-view");return(0,n.wg)(),(0,n.j4)(g,null,{default:(0,n.w5)((()=>[s,(0,n._)("div",l,[r,(0,n.wy)((0,n._)("input",{onChange:t[0]||(t[0]=(...e)=>m.getByDate&&m.getByDate(...e)),class:"border w-full py-2 text-sm px-2 rounded","onUpdate:modelValue":t[1]||(t[1]=e=>d.dates=e),type:"date"},null,544),[[o.nr,d.dates]])]),(0,n.Wm)(c,{boxes:d.boxes},null,8,["boxes"]),(0,n.wy)((0,n._)("span",i,"No se an registrado cajas",512),[[o.F8,d.empty]]),d.totalPag>1?((0,n.wg)(),(0,n.j4)(p,{key:0,onMethod:m.getBoxes,currentPage:d.currentPage,pages:d.pages,totalPag:d.totalPag,next:d.next,prev:d.prev},null,8,["onMethod","currentPage","pages","totalPag","next","prev"])):(0,n.kq)("",!0)])),_:1})}const d={class:"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden"},m={class:"min-w-full leading-normal"},c=(0,n._)("div",{class:"border-gradient-2 flex justify-center items-center"},[(0,n._)("button",{class:"w-full h-full button-gradient bg-white rounded-2xl py-1 px-3"},[(0,n._)("span",{class:"text-gradient whitespace-nowrap font-semibold text-xs font-mono"},"Ver detalle")])],-1);function p(e,t,a,o,s,l){const r=(0,n.up)("th-table"),i=(0,n.up)("td-table"),u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("table",m,[(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n.Wm)(r,{name:"Usuario"}),(0,n.Wm)(r,{name:"Monto Inicial"}),(0,n.Wm)(r,{name:"Fecha"}),(0,n.Wm)(r,{name:"Total en caja"}),(0,n.Wm)(r,{name:"Acciones"})])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.boxes,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n.Wm)(i,{name:e.users.name},null,8,["name"]),(0,n.Wm)(i,{name:"$"+Number(e.boxStart)},null,8,["name"]),(0,n.Wm)(i,{name:l.formatDate(e.date)},null,8,["name"]),(0,n.Wm)(i,{name:"$"+Number(e.totalBox)},null,8,["name"]),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{to:"/finance-details/"+e.id},{default:(0,n.w5)((()=>[c])),_:2},1032,["to"])])),_:2},1024)])))),128))])])])}var g=a(1848),x=a(1743),h=a(3748),b=a(6963),w=a(505),f={components:{ThTable:x.Z,TdTable:g.Z},props:{boxes:{type:Array}},methods:{formatDate(e){return(0,h.Z)((0,b.Z)(new Date(e),0),new Date,{locale:w.Z})}}},y=a(89);const P=(0,y.Z)(f,[["render",p]]);var _=P,v=a(741),W=a(3954),k=a(2648),D=a(2129),Z={name:"FinancesView",components:{LayoutView:v.Z,FinancesTable:_,PaginationComponent:D.Z},data(){return{boxes:[],pages:[],currentPage:0,next:0,prev:0,totalPag:0,dates:"",empty:!1}},methods:{getBoxes(e=1,t=""){(0,W.cj)(e,t).then((({data:e})=>{e.ok&&(this.boxes=e.box,this.pages=(0,k.V)(e.curentPag,e.totalPag,1),this.totalPag=e.totalPag,this.next=e.nextPag,this.prev=e.prevPag,this.currentPage=e.curentPag)})).catch((({data:e})=>{this.empty=!0,e.ok?this.$toast.error("Ah ocurrido un error inesperado"):this.$toast.warning("No hay registros para mostrar")}))},getByDate(){this.getBoxes(1,this.dates)}},mounted(){this.getBoxes(1)}};const B=(0,y.Z)(Z,[["render",u]]);var T=B}}]);
//# sourceMappingURL=279.cb25cabb.js.map