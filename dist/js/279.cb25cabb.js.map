{"version":3,"file":"js/279.cb25cabb.js","mappings":"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","sources":["webpack://tiendita-app/./src/views/FinancesView.vue","webpack://tiendita-app/./src/components/Finances/FinancesTable.vue","webpack://tiendita-app/./src/components/Finances/FinancesTable.vue?29da","webpack://tiendita-app/./src/views/FinancesView.vue?c3f5"],"sourcesContent":["<template>\r\n  <layout-view>\r\n    <p class=\"text-red-600 text-2xl mb-6\">FINANZAS DEL SISTEMA</p>\r\n    <div class=\"flex my-6\">\r\n      <label\r\n        class=\"pr-4 text-gradient mt-1 text-sm font-semibold whitespace-nowrap\"\r\n        >Buscar por fecha</label\r\n      >\r\n      <input\r\n        @change=\"getByDate\"\r\n        class=\"border w-full py-2 text-sm px-2 rounded\"\r\n        v-model=\"dates\"\r\n        type=\"date\"\r\n      />\r\n    </div>\r\n    <finances-table :boxes=\"boxes\" />\r\n    <span v-show=\"empty\" class=\"text-gray-600 font-semibold\"\r\n      >No se an registrado cajas</span\r\n    >\r\n    <pagination-component\r\n      v-if=\"totalPag > 1\"\r\n      @method=\"getBoxes\"\r\n      :currentPage=\"currentPage\"\r\n      :pages=\"pages\"\r\n      :totalPag=\"totalPag\"\r\n      :next=\"next\"\r\n      :prev=\"prev\"\r\n    />\r\n  </layout-view>\r\n</template>\r\n\r\n<script>\r\nimport FinancesTable from \"../components/Finances/FinancesTable.vue\";\r\nimport LayoutView from \"../layout/LayoutView.vue\";\r\nimport { getAllBoxes } from \"../api/box\";\r\nimport { paginate } from \"../utils/utils\";\r\nimport PaginationComponent from \"../components/Global/PaginationComponent.vue\";\r\n\r\nexport default {\r\n  name: \"FinancesView\",\r\n  components: { LayoutView, FinancesTable, PaginationComponent },\r\n  data() {\r\n    return {\r\n      boxes: [],\r\n      pages: [],\r\n      currentPage: 0,\r\n      next: 0,\r\n      prev: 0,\r\n      totalPag: 0,\r\n      dates: \"\",\r\n      empty: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getBoxes(page = 1, dates = \"\") {\r\n      getAllBoxes(page, dates)\r\n        .then(({ data }) => {\r\n          if (data.ok) {\r\n            this.boxes = data.box;\r\n            this.pages = paginate(data.curentPag, data.totalPag, 1);\r\n            this.totalPag = data.totalPag;\r\n            this.next = data.nextPag;\r\n            this.prev = data.prevPag;\r\n            this.currentPage = data.curentPag;\r\n          }\r\n        })\r\n        .catch(({ data }) => {\r\n          this.empty = true;\r\n          if (!data.ok) {\r\n            this.$toast.warning(\"No hay registros para mostrar\");\r\n            return;\r\n          }\r\n          this.$toast.error(\"Ah ocurrido un error inesperado\");\r\n        });\r\n    },\r\n    getByDate() {\r\n      this.getBoxes(1, this.dates);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getBoxes(1);\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","<template>\r\n  <div\r\n    class=\"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden\"\r\n  >\r\n    <table class=\"min-w-full leading-normal\">\r\n      <thead>\r\n        <tr>\r\n          <th-table name=\"Usuario\" />\r\n          <th-table name=\"Monto Inicial\" />\r\n          <th-table name=\"Fecha\" />\r\n          <th-table name=\"Total en caja\" />\r\n          <th-table name=\"Acciones\" />\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"box in boxes\" :key=\"box.id\">\r\n          <td-table :name=\"box.users.name\" />\r\n          <td-table :name=\"`$` + Number(box.boxStart)\" />\r\n          <td-table :name=\"formatDate(box.date)\" />\r\n          <td-table :name=\"`$` + Number(box.totalBox)\" />\r\n          <td-table>\r\n            <router-link :to=\"`/finance-details/` + box.id\">\r\n              <div class=\"border-gradient-2 flex justify-center items-center\">\r\n                <button\r\n                  class=\"w-full h-full button-gradient bg-white rounded-2xl py-1 px-3\"\r\n                >\r\n                  <span\r\n                    class=\"text-gradient whitespace-nowrap font-semibold text-xs font-mono\"\r\n                    >Ver detalle</span\r\n                  >\r\n                </button>\r\n              </div>\r\n            </router-link>\r\n          </td-table>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TdTable from \"../Global/TdTable.vue\";\r\nimport ThTable from \"../Global/ThTable.vue\";\r\nimport { formatRelative, subDays } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nexport default {\r\n  components: { ThTable, TdTable },\r\n  props: {\r\n    boxes: { type: Array },\r\n  },\r\n  methods: {\r\n    formatDate(date) {\r\n      return formatRelative(subDays(new Date(date), 0), new Date(), {\r\n        locale: es,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./FinancesTable.vue?vue&type=template&id=ca150a8c\"\nimport script from \"./FinancesTable.vue?vue&type=script&lang=js\"\nexport * from \"./FinancesTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Daniel\\\\Tiendita\\\\tiendita-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FinancesView.vue?vue&type=template&id=4e3d9708\"\nimport script from \"./FinancesView.vue?vue&type=script&lang=js\"\nexport * from \"./FinancesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Daniel\\\\Tiendita\\\\tiendita-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_layout_view","_hoisted_1","_hoisted_3","onChange","$options","$data","$event","type","_createVNode","_component_finances_table","boxes","_component_pagination_component","onMethod","currentPage","pages","totalPag","next","prev","_createElementBlock","_component_th_table","name","_Fragment","_renderList","$props","box","key","id","_component_td_table","users","Number","boxStart","date","totalBox","_component_router_link","to","components","ThTable","TdTable","props","Array","methods","formatDate","formatRelative","subDays","Date","locale","es","__exports__","LayoutView","FinancesTable","PaginationComponent","data","dates","empty","getBoxes","page","getAllBoxes","then","ok","this","paginate","curentPag","nextPag","prevPag","catch","$toast","error","warning","getByDate","mounted","render"],"sourceRoot":""}