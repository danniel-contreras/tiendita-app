{"version":3,"file":"js/126.d22b5c89.js","mappings":"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","sources":["webpack://tiendita-app/./src/components/SalesHistory/SalesTable.vue","webpack://tiendita-app/./src/components/SalesHistory/SalesTable.vue?93bc","webpack://tiendita-app/./src/views/SalesHistoryView.vue","webpack://tiendita-app/./src/views/SalesHistoryView.vue?e5b4"],"sourcesContent":["<template>\r\n  <div class=\"py-4 overflow-x-auto mt-6\">\r\n    <div\r\n      class=\"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden\"\r\n    >\r\n      <table class=\"min-w-full leading-normal\">\r\n        <thead>\r\n          <tr>\r\n            <th-table name=\"Fecha\" />\r\n            <th-table name=\"Total\" />\r\n            <th-table name=\"Acciones\" />\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"sale in sales\" v-bind:key=\"sale.id\">\r\n            <td-table :name=\"formatDate(sale.dateOfSale)\" />\r\n            <td-table :name=\"`$${sale.total}`\" />\r\n            <td-table>\r\n              <div class=\"border-gradient-2 flex justify-center items-center\">\r\n                <button\r\n                  @click=\"getDetails(sale.id)\"\r\n                  class=\"w-full h-full button-gradient bg-white rounded-2xl py-1 px-3\"\r\n                >\r\n                  <span\r\n                    class=\"text-gradient whitespace-nowrap font-semibold text-xs font-mono\"\r\n                    >Ver detalle</span\r\n                  >\r\n                </button>\r\n              </div>\r\n            </td-table>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <modal-component\r\n      v-show=\"visible\"\r\n      @close=\"showModal\"\r\n      title=\"Detalles de la venta\"\r\n    >\r\n      <div\r\n        class=\"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden\"\r\n      >\r\n        <table class=\"min-w-full leading-normal\">\r\n          <thead>\r\n            <tr>\r\n              <th-table name=\"Producto\" />\r\n              <th-table name=\"Cantidad\" />\r\n              <th-table v-show=\"!report\" name=\"Total\" />\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"sal in sale\" :key=\"sal.id\">\r\n              <td-table :name=\"sal.products.name\" />\r\n              <td-table :name=\"sal.quantity\" />\r\n              <td-table v-show=\"!report\" :name=\"`$` + sal.totalUnit\" />\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </modal-component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ThTable from \"../Global/ThTable.vue\";\r\nimport { formatRelative, subDays } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\nimport TdTable from \"../Global/TdTable.vue\";\r\nimport { getDetailsSale } from \"../../api/sale.api\";\r\nimport ModalComponent from \"../Global/ModalComponent.vue\";\r\n\r\nexport default {\r\n  components: { ThTable, TdTable, ModalComponent },\r\n  props: {\r\n    sales: { type: Object },\r\n    report: { type: Boolean },\r\n  },\r\n  data() {\r\n    return {\r\n      sale: [],\r\n      visible: false,\r\n    };\r\n  },\r\n  methods: {\r\n    showModal() {\r\n      this.visible = !this.visible;\r\n    },\r\n    formatDate(date) {\r\n      return formatRelative(subDays(new Date(date), 0), new Date(), {\r\n        locale: es,\r\n      });\r\n    },\r\n    getDetails(id) {\r\n      getDetailsSale(id).then(({ data }) => {\r\n        this.sale = data.sales;\r\n        this.showModal();\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./SalesTable.vue?vue&type=template&id=6388480f\"\nimport script from \"./SalesTable.vue?vue&type=script&lang=js\"\nexport * from \"./SalesTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Daniel\\\\Tiendita\\\\tiendita-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <layout-view>\r\n    <p class=\"text-lg font-semibold text-gradient\">Historial de ventas</p>\r\n    <sales-table :sales=\"sales\" />\r\n    <span v-show=\"empty\" class=\"text-gray-600 font-semibold\"\r\n      >No se an registrado ventas</span\r\n    >\r\n    <pagination-component\r\n      v-if=\"totalPag > 1\"\r\n      @method=\"getAllSales\"\r\n      :currentPage=\"currentPage\"\r\n      :pages=\"pages\"\r\n      :totalPag=\"totalPag\"\r\n      :next=\"next\"\r\n      :prev=\"prev\"\r\n    />\r\n  </layout-view>\r\n</template>\r\n\r\n<script>\r\nimport SalesTable from \"../components/SalesHistory/SalesTable.vue\";\r\nimport LayoutView from \"../layout/LayoutView.vue\";\r\nimport { getSales } from \"../api/sale.api\";\r\nimport { paginate } from \"../utils/utils\";\r\nimport PaginationComponent from \"../components/Global/PaginationComponent.vue\";\r\n\r\nexport default {\r\n  name: \"SalesHistoryView\",\r\n  components: { LayoutView, SalesTable, PaginationComponent },\r\n  data() {\r\n    return {\r\n      sales: {},\r\n      pages: [],\r\n      currentPage: 0,\r\n      next: 0,\r\n      prev: 0,\r\n      totalPag: 0,\r\n      empty: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getAllSales(page = 1) {\r\n      getSales(page)\r\n        .then(({ data }) => {\r\n          this.sales = data.sales;\r\n          this.pages = paginate(data.curentPag, data.totalPag, 1);\r\n          this.totalPag = data.totalPag;\r\n          this.next = data.nextPag;\r\n          this.prev = data.prevPag;\r\n          this.currentPage = data.curentPag;\r\n        })\r\n        .catch(({ data }) => {\r\n          this.empty = true;\r\n          if (!data.ok) {\r\n            this.$toast.warning(\"No hay registros para mostrar\");\r\n            return;\r\n          }\r\n          this.$toast.error(\"Ah ocurrido un error inesperado\");\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getAllSales(1);\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./SalesHistoryView.vue?vue&type=template&id=5a96cfda\"\nimport script from \"./SalesHistoryView.vue?vue&type=script&lang=js\"\nexport * from \"./SalesHistoryView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Daniel\\\\Tiendita\\\\tiendita-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_6","_createElementBlock","_createVNode","_component_th_table","name","_Fragment","_renderList","$props","sale","key","id","_component_td_table","$options","dateOfSale","total","onClick","_component_modal_component","onClose","title","$data","sal","products","quantity","totalUnit","components","ThTable","TdTable","ModalComponent","props","sales","type","Object","report","Boolean","data","visible","methods","showModal","this","formatDate","date","formatRelative","subDays","Date","locale","es","getDetails","getDetailsSale","then","__exports__","render","_createBlock","_component_layout_view","_hoisted_1","_component_sales_table","_component_pagination_component","onMethod","currentPage","pages","totalPag","next","prev","LayoutView","SalesTable","PaginationComponent","empty","getAllSales","page","getSales","paginate","curentPag","nextPag","prevPag","catch","ok","$toast","error","warning","mounted"],"sourceRoot":""}