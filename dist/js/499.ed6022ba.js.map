{"version":3,"file":"js/499.ed6022ba.js","mappings":"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","sources":["webpack://tiendita-app/./src/views/ReportView.vue","webpack://tiendita-app/./src/views/ReportView.vue?c189"],"sourcesContent":["<template>\r\n  <layout-view>\r\n    <div id=\"pdf-content\" ref=\"testHtml\" class=\"overflow-auto pr-24\">\r\n      <div class=\"grid grid-cols-4 gap-5 py-6\">\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Monto Inicial</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.boxStart) }}\r\n          </p>\r\n        </div>\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Ingresos</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.income) }}\r\n          </p>\r\n        </div>\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Excesos</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.surplus) }}\r\n          </p>\r\n        </div>\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Perdidas</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.missing) }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"grid grid-cols-2 gap-5 py-2\">\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Total de ventas</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.totalSales) }}\r\n          </p>\r\n        </div>\r\n        <div\r\n          class=\"border h-auto py-3 rounded flex flex-col justify-center items-center\"\r\n        >\r\n          <p class=\"text-gray-600 text-sm font-semibold\">Total de compras</p>\r\n          <p class=\"text-gray-600 text-sm font-semibold mt-1\">\r\n            ${{ Number(box.expenses) }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <p class=\"font-semibold text-sm text-gray-600 my-4\">Listado de ventas</p>\r\n      <div>\r\n        <div\r\n          class=\"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden\"\r\n        >\r\n          <table class=\"min-w-full leading-normal\">\r\n            <thead>\r\n              <tr>\r\n                <th-table name=\"Fecha\" />\r\n                <th-table name=\"Total\" />\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"sale in sales\" v-bind:key=\"sale.id\">\r\n                <td-table :name=\"formatDate(sale.dateOfSale)\" />\r\n                <td-table :name=\"`$${sale.total}`\" />\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <span v-show=\"empty\" class=\"text-gray-600 font-semibold\"\r\n          >No se an registrado ventas</span\r\n        >\r\n      </div>\r\n      <div>\r\n        <p class=\"font-semibold text-sm text-gray-600 my-8\">\r\n          Listado de compras\r\n        </p>\r\n        <div\r\n          class=\"inline-block min-w-full border shadow-xl rounded-lg overflow-hidden\"\r\n        >\r\n          <table class=\"min-w-full leading-normal\">\r\n            <thead>\r\n              <th-table name=\"Fecha\" />\r\n              <th-table name=\"Tipo de recibo\" />\r\n              <th-table name=\"NÂ° de recibo\" />\r\n              <th-table name=\"Total\" />\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"shop in shoppings\" :key=\"shop.id\">\r\n                <td-table :name=\"formatDate(shop.date)\" />\r\n                <td-table :name=\"shop.voucherType\" />\r\n                <td-table :name=\"shop.nVoucher\" />\r\n                <td-table :name=\"`$${shop.total}`\" />\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <span v-show=\"empty\" class=\"text-gray-600 font-semibold\"\r\n          >No se an registrado ventas</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <button\r\n      @click=\"generateReport\"\r\n      class=\"bg-blue-500 text-white px-16 py-2 mt-5\"\r\n    >\r\n      Guardar\r\n    </button>\r\n  </layout-view>\r\n</template>\r\n\r\n<script>\r\nimport { getById } from \"../api/box\";\r\nimport { getSalesByBox } from \"../api/sale.api\";\r\nimport { getShoppingByBox } from \"../api/shopping.api\";\r\nimport LayoutView from \"../layout/LayoutView.vue\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport { formatRelative, subDays } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\nimport ThTable from \"../components/Global/ThTable.vue\";\r\nimport TdTable from \"../components/Global/TdTable.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    LayoutView,\r\n    ThTable,\r\n    TdTable,\r\n  },\r\n  data() {\r\n    return {\r\n      sales: {},\r\n      empty: false,\r\n      emptyS: false,\r\n      shoppings: [],\r\n      box: {},\r\n    };\r\n  },\r\n  methods: {\r\n    generateReport() {\r\n      window.html2canvas = html2canvas;\r\n      let doc = new jsPDF(\"p\", \"pt\", \"a3\");\r\n      doc.html(document.querySelector(\"#pdf-content\"), {\r\n        margin: [40, 60, 40, 60],\r\n        callback: (pdf) => {\r\n          pdf.save(\"Hello.pdf\");\r\n        },\r\n      });\r\n    },\r\n    formatDate(date) {\r\n      return formatRelative(subDays(new Date(date), 0), new Date(), {\r\n        locale: es,\r\n      });\r\n    },\r\n    getSales(page = 1) {\r\n      getSalesByBox(page, 999999, this.$route.params.id)\r\n        .then(({ data }) => {\r\n          console.log(data);\r\n          this.sales = data.sales;\r\n        })\r\n        .catch(() => {\r\n          this.empty = true;\r\n        });\r\n    },\r\n    getShoppings(page = 1) {\r\n      getShoppingByBox(page, 999999, this.$route.params.id)\r\n        .then(({ data }) => {\r\n          this.shoppings = data.shopping;\r\n        })\r\n        .catch(() => {\r\n          this.emptyS = true;\r\n        });\r\n    },\r\n    getInfoBox() {\r\n      getById(this.$route.params.id).then(({ data }) => {\r\n        this.box = data.box;\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getSales(1);\r\n    this.getInfoBox();\r\n    this.getShoppings();\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./ReportView.vue?vue&type=template&id=2a38dd78\"\nimport script from \"./ReportView.vue?vue&type=script&lang=js\"\nexport * from \"./ReportView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Daniel\\\\Tiendita\\\\tiendita-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","ref","class","_createElementVNode","_createBlock","_component_layout_view","_hoisted_4","_toDisplayString","Number","$data","boxStart","_hoisted_7","income","_hoisted_10","surplus","_hoisted_13","missing","_hoisted_17","totalSales","_hoisted_20","expenses","_hoisted_22","_createVNode","_component_th_table","name","_createElementBlock","_Fragment","_renderList","sale","key","_component_td_table","$options","dateOfSale","total","_hoisted_26","shop","date","voucherType","nVoucher","onClick","components","LayoutView","ThTable","TdTable","data","sales","empty","emptyS","shoppings","box","methods","generateReport","window","html2canvas","doc","jsPDF","html","document","querySelector","margin","callback","pdf","save","formatDate","formatRelative","subDays","Date","locale","es","getSales","page","getSalesByBox","this","$route","params","then","console","log","catch","getShoppings","getShoppingByBox","shopping","getInfoBox","getById","mounted","__exports__","render"],"sourceRoot":""}